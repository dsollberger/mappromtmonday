legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "#2ca25f", face = "bold",
size = 48, hjust = 0.5),
plot.subtitle = element_text(color = "#2ca25f",
size = 36, hjust = 0.5),
plot.caption = element_text(color = "#2ca25f",
size = 24, hjust = 0.5))
counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
# scale_fill_gradient(low = "gray75", high = "darkgreen") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "#2ca25f", face = "bold",
size = 48, hjust = 0.5),
plot.subtitle = element_text(color = "#2ca25f",
size = 36, hjust = 0.5),
plot.caption = element_text(color = "#2ca25f",
size = 24, hjust = 0.5))
counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
labs(title = "Map Prompt Mondays",
subtitle = "Theme: HeatMap",
caption = "2023-01-09") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "#2ca25f", face = "bold",
size = 48, hjust = 0.5),
plot.subtitle = element_text(color = "#2ca25f",
size = 36, hjust = 0.5),
plot.caption = element_text(color = "#2ca25f",
size = 24, hjust = 0.5))
counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
labs(title = "Map Prompt Mondays",
subtitle = "Theme: HeatMap",
caption = "2023-01-09") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 20, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
labs(title = "Map Prompt Mondays",
subtitle = "Theme: HeatMap",
caption = "2023-01-09",
x = "", y = "") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 20, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
counties_shp |>
ggplot() +
geom_sf(aes(fill = name_origin)) +
labs(title = "Counties Whose Names are ",
subtitle = "of Native American Origin",
caption = "Data Source: US Census\nMap Created by Derek Sollberger",
x = "", y = "") +
scale_fill_manual(values = c("darkgreen", "gray75"),
na.translate = FALSE) +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 20, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
counties_shp |>
ggplot() +
geom_sf(aes(fill = name_origin)) +
labs(title = "Counties Whose Names are ",
subtitle = "of Native American Origin",
caption = "Data Source: US Census\nMap Created by Derek Sollberger",
x = "", y = "") +
scale_fill_manual(values = c("darkgreen", "gray75"),
na.translate = FALSE) +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 25, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 25, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
#| message: false
#| warning: false
library("patchwork")
#| message: false
#| warning: false
library("patchwork")
library("rgeos") #for centroids
library("sf")
library("tidyverse")
lat_min <- 22
lat_max <- 50
long_min <- -130
long_max <- -65
# load shape file(s)
# https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html
counties_shp <- st_read("data/cb_2018_us_county_5m/cb_2018_us_county_5m.shp")
counties_simple <- counties_shp |>
as.data.frame() |>
select(STATEFP, NAME)
# readr::write_csv(counties_simple, "data/counties_simple.csv")
counties_df <- readr::read_csv("data/counties_simple.csv")
# counties_df$STATEFP <- as.character(counties_df$STATEFP)
counties_shp <- counties_shp |>
left_join(counties_df, by = c("STATEFP", "NAME"))
p1 <- counties_shp |>
ggplot() +
geom_sf(aes(fill = name_origin)) +
labs(title = "Counties Whose Names are ",
subtitle = "of Native American Origin",
caption = "Data Source: US Census\nMap Created by Derek Sollberger",
x = "", y = "") +
scale_fill_manual(values = c("darkgreen", "gray75"),
na.translate = FALSE) +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 25, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 25, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
# Calculate the centroid of each county of interest
# https://stackoverflow.com/questions/49343958/do-the-values-returned-by-rgeosgcentroid-and-sfst-centroid-differ
NatAM_counties <- counties_shp |>
filter(name_origin == "Native American origin")
centers <- data.frame(
st_coordinates(st_centroid(NatAM_counties$geometry)),
id=NatAM_counties$NAME)
p2 <- counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
labs(title = "Map Prompt Mondays",
subtitle = "Theme: HeatMap",
caption = "2023-01-09",
x = "", y = "") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 20, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
p1 + p2
#| message: false
#| warning: false
library("patchwork")
library("rgeos") #for centroids
library("sf")
library("tidyverse")
lat_min <- 22
lat_max <- 50
long_min <- -130
long_max <- -65
# load shape file(s)
# https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html
counties_shp <- st_read("data/cb_2018_us_county_5m/cb_2018_us_county_5m.shp")
counties_simple <- counties_shp |>
as.data.frame() |>
select(STATEFP, NAME)
# readr::write_csv(counties_simple, "data/counties_simple.csv")
counties_df <- readr::read_csv("data/counties_simple.csv")
# counties_df$STATEFP <- as.character(counties_df$STATEFP)
counties_shp <- counties_shp |>
left_join(counties_df, by = c("STATEFP", "NAME"))
p1 <- counties_shp |>
ggplot() +
geom_sf(aes(fill = name_origin)) +
labs(title = "Counties Whose Names are ",
subtitle = "of Native American Origin",
caption = "Data Source: US Census\nMap Created by Derek Sollberger",
x = "", y = "") +
scale_fill_manual(values = c("darkgreen", "gray75"),
na.translate = FALSE) +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 25, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 25, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
# Calculate the centroid of each county of interest
# https://stackoverflow.com/questions/49343958/do-the-values-returned-by-rgeosgcentroid-and-sfst-centroid-differ
NatAM_counties <- counties_shp |>
filter(name_origin == "Native American origin")
centers <- data.frame(
st_coordinates(st_centroid(NatAM_counties$geometry)),
id=NatAM_counties$NAME)
p2 <- counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
labs(title = "",
subtitle = "",
caption = "Map Prompt Mondays\nTheme: HeatMap",
x = "", y = "") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 20, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
# patchwork
p1 + p2
p1 + p2
#| message: false
#| warning: false
library("patchwork")
library("rgeos") #for centroids
library("sf")
library("tidyverse")
lat_min <- 22
lat_max <- 50
long_min <- -130
long_max <- -65
# load shape file(s)
# https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html
counties_shp <- st_read("data/cb_2018_us_county_5m/cb_2018_us_county_5m.shp")
counties_simple <- counties_shp |>
as.data.frame() |>
select(STATEFP, NAME)
# readr::write_csv(counties_simple, "data/counties_simple.csv")
counties_df <- readr::read_csv("data/counties_simple.csv")
# counties_df$STATEFP <- as.character(counties_df$STATEFP)
counties_shp <- counties_shp |>
left_join(counties_df, by = c("STATEFP", "NAME"))
p1 <- counties_shp |>
ggplot() +
geom_sf(aes(fill = name_origin)) +
labs(title = "Counties Whose Names are ",
subtitle = "",
caption = "Data Source: US Census\nMap Created by Derek Sollberger",
x = "", y = "") +
scale_fill_manual(values = c("darkgreen", "gray75"),
na.translate = FALSE) +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 25, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
# Calculate the centroid of each county of interest
# https://stackoverflow.com/questions/49343958/do-the-values-returned-by-rgeosgcentroid-and-sfst-centroid-differ
NatAM_counties <- counties_shp |>
filter(name_origin == "Native American origin")
centers <- data.frame(
st_coordinates(st_centroid(NatAM_counties$geometry)),
id=NatAM_counties$NAME)
p2 <- counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
labs(title = "of Native American Origin",
subtitle = "",
caption = "Map Prompt Mondays\nTheme: HeatMap",
x = "", y = "") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 20, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
# patchwork
p1 + p2
p1 + p2
#| message: false
#| warning: false
library("patchwork")
library("rgeos") #for centroids
library("sf")
library("tidyverse")
lat_min <- 22
lat_max <- 50
long_min <- -130
long_max <- -65
# load shape file(s)
# https://www.census.gov/geographies/mapping-files/time-series/geo/carto-boundary-file.html
counties_shp <- st_read("data/cb_2018_us_county_5m/cb_2018_us_county_5m.shp")
counties_simple <- counties_shp |>
as.data.frame() |>
select(STATEFP, NAME)
# readr::write_csv(counties_simple, "data/counties_simple.csv")
counties_df <- readr::read_csv("data/counties_simple.csv")
# counties_df$STATEFP <- as.character(counties_df$STATEFP)
counties_shp <- counties_shp |>
left_join(counties_df, by = c("STATEFP", "NAME"))
p1 <- counties_shp |>
ggplot() +
geom_sf(aes(fill = name_origin)) +
labs(title = "Counties Whose Names are ",
subtitle = "of Native American Origin",
caption = "Data Source: US Census\nMap Created by Derek Sollberger",
x = "", y = "") +
scale_fill_manual(values = c("darkgreen", "gray75"),
na.translate = FALSE) +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "bottom",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 25, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 25, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
# Calculate the centroid of each county of interest
# https://stackoverflow.com/questions/49343958/do-the-values-returned-by-rgeosgcentroid-and-sfst-centroid-differ
NatAM_counties <- counties_shp |>
filter(name_origin == "Native American origin")
centers <- data.frame(
st_coordinates(st_centroid(NatAM_counties$geometry)),
id=NatAM_counties$NAME)
p2 <- counties_shp |>
ggplot() +
geom_sf() +
# https://ggplot2.tidyverse.org/reference/geom_density_2d.html
geom_density_2d_filled(aes(x = X, y = Y, fill = ..level..),
alpha = 0.5,
data = centers) +
labs(title = "",
subtitle = "",
caption = "Map Prompt Mondays\nTheme: HeatMap",
x = "", y = "") +
xlim(long_min, long_max) +
ylim(lat_min, lat_max) +
theme(axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
legend.position = "none",
legend.title = element_blank(),
panel.background = element_rect(fill = "white"),
panel.grid.major = element_blank(),
panel.grid.minor = element_blank(),
plot.background = element_rect(fill = "white"),
plot.title = element_text(color = "darkgreen", face = "bold",
size = 30, hjust = 0.5),
plot.subtitle = element_text(color = "darkgreen",
size = 20, hjust = 0.5),
plot.caption = element_text(color = "darkgreen",
size = 10, hjust = 0.5))
# patchwork
p1 + p2
p1+p2
